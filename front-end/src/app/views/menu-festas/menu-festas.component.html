<div class="main-container">
    <header>
        <h1 class="title">{{ 'FESTA.MYPARTIES' | translate }}</h1>

        <a class="botao-criar-festa" routerLink="../criar-festa">
            <button class="btn-1" mat-raised-button>
                <mat-icon>add</mat-icon> {{ 'FESTA.NEWPARTY' | translate }}
            </button>
        </a>
    </header>
    <div class="filtros-container" *ngIf="festas.length > 1">
        <h5>Filtros</h5>
        <mat-checkbox class="example-margin">Festas em que sou administrador</mat-checkbox>
        <mat-form-field class="example-full-width">
            <mat-label>Nome da Festa</mat-label>
            <input matInput [(ngModel)]="buscaNomeFesta">
          </mat-form-field>
    </div>
    <mat-paginator 
        [length]="length"
        [pageSize]="pageSize"
        [pageSizeOptions]="pageSizeOptions"
        (page)="onPageChange($event)"
        class="paginator"
    >
    </mat-paginator>
    <div class="nenhumafesta-msg" *ngIf="nenhumaFesta === true">
        <p>Você não tem nenhuma festa associada a esta conta. <a routerLink="../criar-festa"   style="text-decoration: underline">Clique aqui para criar uma festa</a>.</p>
    </div>
    <div *ngFor="let festa of festasMostradas" class="lista-festas">
        <a routerLink="{{createUrl(festa.nomeFesta, festa.codFesta)}}">
            <mat-card class="festa-tab">
                <mat-card-header>
                    <div mat-card-avatar><mat-icon *ngIf="isAdmin(festa)" style="color: red;">star_rate</mat-icon></div>
                    <mat-card-title>{{festa.nomeFesta}}</mat-card-title>
                    <mat-card-subtitle><span class="subtitle">{{festa.funcionalidade.toLowerCase()}}</span></mat-card-subtitle>
                </mat-card-header>
                
                <mat-card-content class="card-content">
                    <div class="descricao">
                        <p><b>{{ 'FESTA.DESCRIPTION' | translate }}:</b> {{festa.descricaoFesta}}</p>
                    </div>

                    <div class="textos">
                        <div class="texto">
                            <p><b>Status:</b> {{ 'FESTA.PREPARING' | translate }}</p>
                            <p><b>{{ 'FESTA.PAPEL' | translate }}:</b> {{festa.funcionalidade}}</p>
                            <p><b>{{ 'FESTA.INICIODATA' | translate }}:</b> {{getDateFromDTF(festa.horarioInicioFesta)}}</p>
                            <p><b>{{ 'FESTA.FIMDATA' | translate }}:</b> {{getDateFromDTF(festa.horarioFimFesta)}}</p>
                        </div>
                        <div class="texto">                        
                            <p><b>{{ 'FESTA.MEMBERS' | translate }}:</b> {{festa.quantidadeParticipantes}} </p>
                            <p><b>{{ 'FESTA.ENDERECO' | translate }}:</b> {{festa.codEnderecoFesta}}</p>
                            <p><b>{{ 'FESTA.INICIOHORA' | translate }}:</b> {{getTimeFromDTF(festa.horarioInicioFesta)}}</p>
                            <p><b>{{ 'FESTA.FIMHORA' | translate }}:</b> {{getTimeFromDTF(festa.horarioFimFesta)}}</p> 
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </a>
    </div>

</div>